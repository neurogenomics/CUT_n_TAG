Jan-11 23:44:04.622 [main] DEBUG nextflow.cli.Launcher - $> nextflow -c /apps/nextflow/20.01.0/bin/nextflow.config run nf-core/atacseq --input /rds/general/user/bms20/home/neurogenomics/GitRepos/CUT_n_TAG/raw_data/HK5M2BBXY/design_noindex2.csv --genome GRCh37 --narrow_peak --outdir /rds/general/user/bms20/home/neurogenomics/GitRepos/CUT_n_TAG/processed_data/HK5M2BBXY -with-singularity /rds/general/user/bms20/home/atacseq_latest.sif -c /rds/general/user/bms20/home/neurogenomics/GitRepos/CUT_n_TAG/hpc_config -r 1.2.1
Jan-11 23:44:06.913 [main] INFO  nextflow.cli.CmdRun - N E X T F L O W  ~  version 20.10.0
Jan-11 23:44:27.519 [main] DEBUG nextflow.scm.AssetManager - Git config: /rds/general/user/bms20/home/.nextflow/assets/nf-core/atacseq/.git/config; branch: master; remote: origin; url: https://github.com/nf-core/atacseq.git
Jan-11 23:44:27.822 [main] DEBUG nextflow.scm.AssetManager - Git config: /rds/general/user/bms20/home/.nextflow/assets/nf-core/atacseq/.git/config; branch: master; remote: origin; url: https://github.com/nf-core/atacseq.git
Jan-11 23:44:32.235 [main] INFO  nextflow.cli.CmdRun - Launching `nf-core/atacseq` [clever_cori] - revision: 1b3a832db5 [1.2.1]
Jan-11 23:44:34.414 [main] DEBUG nextflow.config.ConfigBuilder - Found config home: /rds/general/user/bms20/home/.nextflow/config
Jan-11 23:44:34.414 [main] DEBUG nextflow.config.ConfigBuilder - Found config base: /rds/general/user/bms20/home/.nextflow/assets/nf-core/atacseq/nextflow.config
Jan-11 23:44:34.422 [main] DEBUG nextflow.config.ConfigBuilder - User config file: /apps/nextflow/20.01.0/bin/nextflow.config
Jan-11 23:44:34.423 [main] DEBUG nextflow.config.ConfigBuilder - User config file: /rds/general/user/bms20/home/neurogenomics/GitRepos/CUT_n_TAG/hpc_config
Jan-11 23:44:34.424 [main] DEBUG nextflow.config.ConfigBuilder - Parsing config file: /rds/general/user/bms20/home/.nextflow/config
Jan-11 23:44:34.424 [main] DEBUG nextflow.config.ConfigBuilder - Parsing config file: /rds/general/user/bms20/home/.nextflow/assets/nf-core/atacseq/nextflow.config
Jan-11 23:44:34.424 [main] DEBUG nextflow.config.ConfigBuilder - Parsing config file: /apps/nextflow/20.01.0/bin/nextflow.config
Jan-11 23:44:34.424 [main] DEBUG nextflow.config.ConfigBuilder - Parsing config file: /rds/general/user/bms20/home/neurogenomics/GitRepos/CUT_n_TAG/hpc_config
Jan-11 23:44:34.523 [main] DEBUG nextflow.config.ConfigBuilder - Applying config profile: `standard`
Jan-11 23:44:36.216 [main] DEBUG nextflow.config.ConfigBuilder - Applying config profile: `standard`
Jan-11 23:44:49.015 [main] DEBUG nextflow.config.ConfigBuilder - Applying config profile: `standard`
Jan-11 23:44:51.515 [main] DEBUG nextflow.config.ConfigBuilder - Applying config profile: `standard`
Jan-11 23:44:52.212 [main] DEBUG nextflow.config.ConfigBuilder - Enabling execution in Singularity container as requested by cli option `-with-singularity null`
Jan-11 23:44:53.121 [main] DEBUG nextflow.Session - Session uuid: faba825a-d81d-4f09-9acf-34921d27c714
Jan-11 23:44:53.121 [main] DEBUG nextflow.Session - Run name: clever_cori
Jan-11 23:44:53.213 [main] DEBUG nextflow.Session - Executor pool size: 24
Jan-11 23:44:53.514 [main] DEBUG nextflow.cli.CmdRun - 
  Version: 20.10.0 build 5430
  Created: 01-11-2020 15:14 UTC (15:14 BST)
  System: Linux 3.10.0-1127.19.1.el7.x86_64
  Runtime: Groovy 3.0.5 on Java HotSpot(TM) 64-Bit Server VM 1.8.0_144-b01
  Encoding: UTF-8 (UTF-8)
  Process: 10391@login-4 [146.179.60.54]
  CPUs: 24 - Mem: 188.9 GB (11.3 GB) - Swap: 0 (0)
Jan-11 23:44:54.217 [main] DEBUG nextflow.Session - Work-dir: /rds/general/user/bms20/ephemeral/tmp [nfs]
Jan-11 23:44:55.715 [main] DEBUG nextflow.Session - Observer factory: TowerFactory
Jan-11 23:44:55.720 [main] DEBUG nextflow.Session - Observer factory: DefaultObserverFactory
Jan-11 23:45:01.323 [main] DEBUG nextflow.Session - Session start invoked
Jan-11 23:45:01.413 [main] DEBUG nextflow.trace.TraceFileObserver - Flow starting -- trace file: /rds/general/user/bms20/home/neurogenomics/GitRepos/CUT_n_TAG/processed_data/HK5M2BBXY/pipeline_info/execution_trace.txt
Jan-11 23:45:43.185 [main] DEBUG nextflow.script.ScriptRunner - > Launching execution
Jan-11 23:45:43.237 [main] DEBUG nextflow.Session - Workflow process names [dsl1]: FASTQC, MERGED_LIB_MACS2_QC, MERGED_LIB_CONSENSUS_ANNOTATE, output_documentation, MERGED_LIB_BIGWIG, MERGED_LIB_PLOTPROFILE, MULTIQC, SORT_BAM, MERGED_LIB_CONSENSUS_DESEQ2, MERGED_REP_CONSENSUS, MERGED_LIB_PICARD_METRICS, BWA_MEM, MERGED_REP_BIGWIG, MERGED_REP_MACS2, MERGED_REP_MACS2_QC, MERGED_LIB_CONSENSUS, MERGED_REP_MACS2_ANNOTATE, MERGED_REP_CONSENSUS_COUNTS, BWA_INDEX, get_software_versions, CHECK_DESIGN, MERGED_LIB_BAM, MERGED_LIB_ATAQV_MKARV, MAKE_GENE_BED, MERGED_LIB_PRESEQ, MERGED_LIB_MACS2, MERGED_LIB_BAM_FILTER, MERGED_LIB_CONSENSUS_COUNTS, MERGED_LIB_ATAQV, MERGED_LIB_MACS2_ANNOTATE, TRIMGALORE, MERGED_REP_BAM, MERGED_REP_CONSENSUS_DESEQ2, MERGED_LIB_BAM_REMOVE_ORPHAN, MERGED_REP_CONSENSUS_ANNOTATE, MAKE_TSS_BED, IGV, MERGED_LIB_PLOTFINGERPRINT, MAKE_GENOME_FILTER
Jan-11 23:45:44.415 [main] DEBUG nextflow.file.FileHelper - Creating a file system instance for provider: S3FileSystemProvider
Jan-11 23:45:44.617 [main] DEBUG nextflow.file.FileHelper - AWS S3 config details: {}
Jan-11 23:46:31.034 [main] INFO  nextflow.Nextflow - -[2m--------------------------------------------------[0m-
                                        [0;32m,--.[0;30m/[0;32m,-.[0m
[0;34m        ___     __   __   __   ___     [0;32m/,-._.--~'[0m
[0;34m  |\ | |__  __ /  ` /  \ |__) |__         [0;33m}  {[0m
[0;34m  | \| |       \__, \__/ |  \ |___     [0;32m\`-._,-`-,[0m
                                        [0;32m`._,._,'[0m
[0;35m  nf-core/atacseq v1.2.1[0m
-[2m--------------------------------------------------[0m-

Jan-11 23:46:31.047 [main] INFO  nextflow.Nextflow - Run Name             : clever_cori
Data Type            : Paired-End
Design File          : /rds/general/user/bms20/home/neurogenomics/GitRepos/CUT_n_TAG/raw_data/HK5M2BBXY/design_noindex2.csv
Genome               : GRCh37
Fasta File           : s3://ngi-igenomes/igenomes//Homo_sapiens/Ensembl/GRCh37/Sequence/WholeGenomeFasta/genome.fa
GTF File             : s3://ngi-igenomes/igenomes//Homo_sapiens/Ensembl/GRCh37/Annotation/Genes/genes.gtf
Gene BED File        : s3://ngi-igenomes/igenomes//Homo_sapiens/Ensembl/GRCh37/Annotation/Genes/genes.bed
BWA Index            : s3://ngi-igenomes/igenomes//Homo_sapiens/Ensembl/GRCh37/Sequence/BWAIndex/genome.fa
Blacklist BED        : /rds/general/user/bms20/home/.nextflow/assets/nf-core/atacseq/assets/blacklists/GRCh37-blacklist.bed
Mitochondrial Contig : MT
MACS2 Genome Size    : 2.7e9
Min Consensus Reps   : 1
MACS2 Narrow Peaks   : Yes
Trim R1              : 0 bp
Trim R2              : 0 bp
Trim 3' R1           : 0 bp
Trim 3' R2           : 0 bp
NextSeq Trim         : 0 bp
Fingerprint Bins     : 500000
Save Genome Index    : No
Max Resources        : 640 GB memory, 32 cpus, 7d time per job
Container            : singularity - /rds/general/user/bms20/home/atacseq_latest.sif
Output Dir           : /rds/general/user/bms20/home/neurogenomics/GitRepos/CUT_n_TAG/processed_data/HK5M2BBXY
Launch Dir           : /rds/general/project/neurogenomics-lab/live/GitRepos/CUT_n_TAG
Working Dir          : /rds/general/user/bms20/ephemeral/tmp
Script Dir           : /rds/general/user/bms20/home/.nextflow/assets/nf-core/atacseq
User                 : bms20
Config Profile       : standard
Config Description   : Imperial College London - DRI - HPC Profile -- provided by nf-core/configs.
Config Contact       : Combiz Khozoie (c.khozoie@imperial.ac.uk)
Config URL           : http://www.github.com/combiz/scFlow
Jan-11 23:46:31.049 [main] INFO  nextflow.Nextflow - -[2m--------------------------------------------------[0m-
Jan-11 23:46:31.612 [main] DEBUG nextflow.executor.ExecutorFactory - << taskConfig executor: pbspro
Jan-11 23:46:31.612 [main] DEBUG nextflow.executor.ExecutorFactory - >> processorType: 'pbspro'
Jan-11 23:46:31.721 [main] DEBUG nextflow.executor.Executor - [warm up] executor > pbspro
Jan-11 23:46:31.913 [main] DEBUG n.processor.TaskPollingMonitor - Creating task monitor for executor 'pbspro' > capacity: 50; pollInterval: 5s; dumpInterval: 5m 
Jan-11 23:46:32.012 [main] DEBUG n.executor.AbstractGridExecutor - Creating executor 'pbspro' > queue-stat-interval: 1m
Jan-11 23:51:37.197 [Task monitor] DEBUG n.processor.TaskPollingMonitor - No more task to compute -- The following nodes are still active:
  [operator] splitCsv
  [operator] map
  [operator] into
  [operator] map
  [operator] flatten
  [operator] max

Jan-11 23:53:12.314 [Task submitter] DEBUG nextflow.executor.GridTaskHandler - [PBSPRO] submitted process CHECK_DESIGN (design_noindex2.csv) > jobId: 2930361.pbs; workDir: /rds/general/user/bms20/ephemeral/tmp/6f/524c0482023c721f1f49ef4cd24d9e
Jan-11 23:53:12.347 [Task submitter] INFO  nextflow.Session - [6f/524c04] Submitted process > CHECK_DESIGN (design_noindex2.csv)
Jan-11 23:55:17.918 [Task monitor] WARN  n.executor.AbstractGridExecutor - [PBSPRO] queue status cannot be fetched
- cmd executed: bash -c set -o pipefail; qstat -f | { egrep '(Job Id:|job_state =)' || true; }
- exit status : 143
- output      :

Jan-11 23:56:38.509 [Task monitor] DEBUG n.processor.TaskPollingMonitor - !! executor pbspro > tasks to be completed: 1 -- submitted tasks are shown below
~> TaskHandler[jobId: 2930361.pbs; id: 1; name: CHECK_DESIGN (design_noindex2.csv); status: SUBMITTED; exit: -; error: -; workDir: /rds/general/user/bms20/ephemeral/tmp/6f/524c0482023c721f1f49ef4cd24d9e started: -; exited: -; ]
Jan-11 23:58:34.219 [Task monitor] DEBUG n.processor.TaskPollingMonitor - Task completed > TaskHandler[jobId: 2930361.pbs; id: 1; name: CHECK_DESIGN (design_noindex2.csv); status: COMPLETED; exit: 0; error: -; workDir: /rds/general/user/bms20/ephemeral/tmp/6f/524c0482023c721f1f49ef4cd24d9e started: 1610409514176; exited: 2021-01-11T23:58:25Z; ]
Jan-11 23:58:34.817 [Task monitor] DEBUG n.util.BlockingThreadExecutorFactory - Thread pool name=FileTransfer; maxThreads=72; maxQueueSize=216; keepAlive=1m
Jan-11 23:58:34.921 [main] DEBUG nextflow.Session - Session aborted -- Cause: Channel `design_multiple_samples` has been used as an input by more than a process or an operator
Jan-11 23:58:35.119 [main] ERROR nextflow.cli.Launcher - @unknown
nextflow.dag.MultipleInputChannelException: Channel `design_multiple_samples` has been used as an input by more than a process or an operator
	at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)
	at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62)
	at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)
	at java.lang.reflect.Constructor.newInstance(Constructor.java:423)
	at org.codehaus.groovy.reflection.CachedConstructor.invoke(CachedConstructor.java:72)
	at org.codehaus.groovy.runtime.callsite.ConstructorSite$ConstructorSiteNoUnwrapNoCoerce.callConstructor(ConstructorSite.java:105)
	at org.codehaus.groovy.runtime.callsite.CallSiteArray.defaultCallConstructor(CallSiteArray.java:59)
	at org.codehaus.groovy.runtime.callsite.AbstractCallSite.callConstructor(AbstractCallSite.java:263)
	at org.codehaus.groovy.runtime.callsite.AbstractCallSite.callConstructor(AbstractCallSite.java:295)
	at nextflow.dag.DAG.inbound(DAG.groovy:191)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.codehaus.groovy.runtime.callsite.PlainObjectMetaMethodSite.doInvoke(PlainObjectMetaMethodSite.java:43)
	at org.codehaus.groovy.runtime.callsite.PogoMetaMethodSite$PogoCachedMethodSiteNoUnwrapNoCoerce.invoke(PogoMetaMethodSite.java:193)
	at org.codehaus.groovy.runtime.callsite.PogoMetaMethodSite.callCurrent(PogoMetaMethodSite.java:61)
	at org.codehaus.groovy.runtime.callsite.AbstractCallSite.callCurrent(AbstractCallSite.java:194)
	at nextflow.dag.DAG.addVertex(DAG.groovy:130)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.codehaus.groovy.runtime.callsite.PlainObjectMetaMethodSite.doInvoke(PlainObjectMetaMethodSite.java:43)
	at org.codehaus.groovy.runtime.callsite.PogoMetaMethodSite$PogoCachedMethodSiteNoUnwrapNoCoerce.invoke(PogoMetaMethodSite.java:193)
	at org.codehaus.groovy.runtime.callsite.PogoMetaMethodSite.callCurrent(PogoMetaMethodSite.java:61)
	at nextflow.dag.DAG.addOperatorNode(DAG.groovy:101)
	at nextflow.dag.NodeMarker.addOperatorNode(NodeMarker.groovy:63)
	at nextflow.extension.OpCall.addGraphNode(OpCall.groovy:171)
	at nextflow.extension.OpCall.invoke(OpCall.groovy:161)
	at nextflow.extension.OpCall.call(OpCall.groovy:113)
	at nextflow.extension.OperatorEx.invokeExtensionMethod(OperatorEx.groovy:108)
	at groovy.runtime.metaclass.NextflowDelegatingMetaClass.invokeMethod(NextflowDelegatingMetaClass.java:59)
	at org.codehaus.groovy.runtime.callsite.PojoMetaClassSite.call(PojoMetaClassSite.java:44)
	at org.codehaus.groovy.runtime.callsite.CallSiteArray.defaultCall(CallSiteArray.java:47)
	at org.codehaus.groovy.runtime.callsite.AbstractCallSite.call(AbstractCallSite.java:125)
	at org.codehaus.groovy.runtime.callsite.AbstractCallSite.call(AbstractCallSite.java:139)
	at Script_cf1875fb.runScript(Script_cf1875fb:377)
	at nextflow.script.BaseScript.runDsl1(BaseScript.groovy:164)
	at nextflow.script.BaseScript.run(BaseScript.groovy:200)
	at nextflow.script.ScriptParser.runScript(ScriptParser.groovy:219)
	at nextflow.script.ScriptRunner.run(ScriptRunner.groovy:219)
	at nextflow.script.ScriptRunner.execute(ScriptRunner.groovy:127)
	at nextflow.cli.CmdRun.run(CmdRun.groovy:277)
	at nextflow.cli.Launcher.run(Launcher.groovy:466)
	at nextflow.cli.Launcher.main(Launcher.groovy:648)
